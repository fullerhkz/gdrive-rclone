#!/bin/bash
# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                    FULLER SYNC MANAGER â€” gdrive                      â•‘
# â•‘                                                                      â•‘
# â•‘  Script unificado para sincronizaÃ§Ã£o de arquivos entre o servidor    â•‘
# â•‘  local e o Google Drive usando rclone.                               â•‘
# â•‘                                                                      â•‘
# â•‘  MODOS DE OPERAÃ‡ÃƒO (detectados pelo nome do executÃ¡vel/symlink):     â•‘
# â•‘    â€¢ gdrive       â†’ Modo NORMAL   (dir: SEU_DIRETORIO)              â•‘
# â•‘    â€¢ gdrive-rip   â†’ Modo RIP      (dir: SEU_DIRETORIO-rip)          â•‘
# â•‘    â€¢ gdrive-perma â†’ Modo PERMA    (dir: SEU_DIRETORIO_PERMANENTE)   â•‘
# â•‘                                                                      â•‘
# â•‘  USO:                                                                â•‘
# â•‘    gdrive                    Baixar arquivos da nuvem â†’ servidor     â•‘
# â•‘    gdrive up "arquivo"       Enviar arquivo/pasta â†’ nuvem            â•‘
# â•‘    gdrive help               Exibir ajuda completa                   â•‘
# â•‘    gdrive status             Exibir configuraÃ§Ã£o ativa               â•‘
# â•‘                                                                      â•‘
# â•‘  NOTA: Para os modos RIP e PERMA, crie symlinks apontando para      â•‘
# â•‘        este script:                                                  â•‘
# â•‘          ln -s /caminho/gdrive /caminho/gdrive-rip                   â•‘
# â•‘          ln -s /caminho/gdrive /caminho/gdrive-perma                 â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# SEGURANÃ‡A: Se executado como root, re-executa como o usuÃ¡rio definido
# para garantir as permissÃµes corretas de arquivo e evitar problemas
# com o rclone rodando como root.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
USUARIO="SEU_USUARIO"

if [[ "$(id -u)" -eq 0 ]]; then
    SCRIPT_PATH="$(readlink -f "$0")"
    exec sudo -u "$USUARIO" -H bash "$SCRIPT_PATH" "$@"
fi

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# PALETA DE CORES â€” CÃ³digos ANSI para saÃ­da colorida no terminal
#
#   Cores bases usam cÃ³digo 0;XX (normal) e 1;XX (negrito).
#   Cores 256 (38;5;NNN) sÃ£o usadas para o gradiente do banner.
#   Reset (Z) retorna ao padrÃ£o do terminal.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Z='\033[0m'           # Reset â€” volta ao padrÃ£o do terminal
R='\033[0;31m'        # Vermelho â€” erros
G='\033[0;32m'        # Verde â€” sucesso
Y='\033[0;33m'        # Amarelo â€” avisos
B='\033[0;34m'        # Azul â€” separadores
C='\033[0;36m'        # Ciano â€” informaÃ§Ãµes secundÃ¡rias
M='\033[0;35m'        # Magenta â€” destaques extras

BR='\033[1;31m'       # Vermelho Negrito â€” erros crÃ­ticos
BG='\033[1;32m'       # Verde Negrito â€” sucesso destaque
BY='\033[1;33m'       # Amarelo Negrito â€” avisos destaque
BB='\033[1;34m'       # Azul Negrito â€” tÃ­tulos
BC='\033[1;36m'       # Ciano Negrito â€” comandos/exemplos
BM='\033[1;35m'       # Magenta Negrito â€” modo/Ã­cones
BW='\033[1;37m'       # Branco Negrito â€” labels de campo

DIM='\033[2m'         # Dim â€” texto de baixa prioridade

# Cores 256-color para o gradiente do banner (azul â†’ ciano â†’ verde)
C1='\033[38;5;27m'    # Azul profundo
C2='\033[38;5;33m'    # Azul mÃ©dio
C3='\033[38;5;39m'    # Azul claro
C4='\033[38;5;44m'    # Azul-ciano
C5='\033[38;5;49m'    # Ciano
C6='\033[38;5;50m'    # Ciano-verde
C7='\033[38;5;43m'    # Verde-ciano

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# DETECÃ‡ÃƒO DE MODO â€” Baseado no nome do executÃ¡vel (basename $0)
#
# Permite usar um Ãºnico script com symlinks para diferentes diretÃ³rios:
#   â€¢ "rip"  no nome â†’ modo RIP  (diretÃ³rio alternativo)
#   â€¢ "perma" no nome â†’ modo PERMANENTE (diretÃ³rio permanente)
#   â€¢ qualquer outro  â†’ modo NORMAL (diretÃ³rio padrÃ£o)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
CHAMADA=$(basename "$0")
DIRETORIO_LOCAL="/home/SEU_USUARIO/SEU_DIRETORIO_DOWNLOADS"
MODO_NOME="NORMAL"
ICONE_MODO="ğŸ“€"
COR_MODO="$BC"

if [[ "$CHAMADA" == *"rip"* ]]; then
    DIRETORIO_LOCAL="/home/SEU_USUARIO/SEU_DIRETORIO_DOWNLOADS_RIP"
    MODO_NOME="RIP"
    ICONE_MODO="ğŸ’€"
    COR_MODO="$BR"
elif [[ "$CHAMADA" == *"perma"* ]]; then
    DIRETORIO_LOCAL="/home/SEU_USUARIO/SEU_DIRETORIO_DOWNLOADS_PERMANENTE"
    MODO_NOME="PERMANENTE"
    ICONE_MODO="ğŸ’"
    COR_MODO="$BM"
fi

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# CONFIGURAÃ‡ÃƒO DO RCLONE â€” Remoto e Labels de exibiÃ§Ã£o
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
REMOTE_PATH="SEU_REMOTO:/SEU_DIRETORIO_REMOTO"   # Caminho do remoto configurado no rclone
LABEL_REMOTO="Google Drive"                       # Label exibido na interface para a nuvem
LABEL_SERVIDOR="Servidor"                         # Label exibido na interface para o local

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# PERMISSÃ•ES â€” umask 002 garante que arquivos criados tenham permissÃ£o
# rw-rw-r-- (664) e diretÃ³rios rwxrwxr-x (775), permitindo acesso do
# grupo sem abrir para "others".
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
umask 002

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# TIMESTAMP â€” Marca o inÃ­cio da execuÃ§Ã£o para calcular duraÃ§Ã£o total
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
INICIO_EPOCH=$(date +%s)

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                       FUNÃ‡Ã•ES DE INTERFACE                           â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# banner()
#   Exibe o banner principal do script com gradiente de cores ASCII.
#   Chamada no inÃ­cio da execuÃ§Ã£o para identificar visualmente o modo.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
banner() {
    clear
    echo ""
    echo -e "  ${C1}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${Z}"
    echo -e "  ${C2}â•‘                                                           â•‘${Z}"
    echo -e "  ${C3}â•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—     â–ˆâ–ˆâ•—     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—        â•‘${Z}"
    echo -e "  ${C4}â•‘   â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—       â•‘${Z}"
    echo -e "  ${C5}â•‘   â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•       â•‘${Z}"
    echo -e "  ${C4}â•‘   â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•‘     â–ˆâ–ˆâ•”â•â•â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—       â•‘${Z}"
    echo -e "  ${C3}â•‘   â–ˆâ–ˆâ•‘     â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘       â•‘${Z}"
    echo -e "  ${C2}â•‘   â•šâ•â•      â•šâ•â•â•â•â•â• â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•       â•‘${Z}"
    echo -e "  ${C1}â•‘                                                           â•‘${Z}"
    echo -e "  ${C6}â•‘          ${BW}S Y N C   M A N A G E R${Z}  ${C6}v2.0                    â•‘${Z}"
    echo -e "  ${C7}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${Z}"
    echo ""
    echo -e "  ${DIM}$(date '+%d/%m/%Y %H:%M:%S')${Z}  â”‚  ${BW}UsuÃ¡rio:${Z} ${C}$(whoami)${Z}  â”‚  ${BW}Modo:${Z} ${COR_MODO}${MODO_NOME} ${ICONE_MODO}${Z}"
    echo -e "  ${B}â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€${Z}"
    echo ""
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# separador()
#   Imprime uma linha separadora estilizada para organizar a saÃ­da.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
separador() {
    echo -e "  ${B}â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${Z}"
}


# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# LARGURA DO PAINEL â€” Largura fixa do painel de operaÃ§Ã£o (em colunas).
# O painel sempre terÃ¡ essa largura, independente do tamanho do terminal.
# Ajuste esse valor se quiser um painel mais largo ou mais estreito.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
LARGURA_PAINEL=76

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# linha_painel(conteudo)
#   Imprime uma linha dentro do painel com bordas â”‚ esquerda e direita.
#   Usa escape ANSI \033[nG para posicionar o cursor na coluna exata
#   da borda direita, independente da largura visual do conteÃºdo.
#   Isso garante alinhamento perfeito mesmo com emojis e Unicode.
#
#   ParÃ¢metros:
#     $1 â€” ConteÃºdo da linha (pode conter cÃ³digos ANSI de cor)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
linha_painel() {
    local conteudo="$1"
    # \033[${LARGURA_PAINEL}G move o cursor para a coluna LARGURA_PAINEL
    # garantindo que a borda â”‚ direita fique sempre alinhada
    echo -e "  ${BW}â”‚${Z} ${conteudo}${Z}\033[${LARGURA_PAINEL}G${BW}â”‚${Z}"
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# info_operacao(acao, origem, destino, mensagem)
#   Exibe um painel informativo antes de iniciar uma operaÃ§Ã£o de
#   transferÃªncia. O painel tem largura fixa definida por LARGURA_PAINEL
#   e usa posicionamento de cursor para alinhar as bordas perfeitamente.
#
#   ParÃ¢metros:
#     $1 â€” Nome da operaÃ§Ã£o (ex: "UPLOAD", "DOWNLOAD")
#     $2 â€” DescriÃ§Ã£o da origem (com Ã­cone)
#     $3 â€” DescriÃ§Ã£o do destino (com Ã­cone)
#     $4 â€” Mensagem de status a exibir
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
info_operacao() {
    local acao="$1"
    local origem="$2"
    local destino="$3"
    local mensagem="$4"

    # Calcula largura da barra horizontal (descontando margem + cantos)
    local barra_len=$(( LARGURA_PAINEL - 4 ))

    # Monta as barras superior e inferior
    local barra
    printf -v barra '%*s' "$barra_len" ''
    barra="${barra// /â”€}"

    # Barra superior com label "OperaÃ§Ã£o"
    local label="â”€ OperaÃ§Ã£o "
    local barra_top="${label}${barra:${#label}}"

    echo -e "  ${BW}â”Œ${barra_top}â”${Z}"
    linha_painel " ${BG}â–¶ $acao${Z}"
    linha_painel ""
    linha_painel " ${BW}Origem :${Z}  $origem"
    linha_painel " ${BW}Destino:${Z}  $destino"
    linha_painel ""
    linha_painel " ${C}âŸ« $mensagem${Z}"
    echo -e "  ${BW}â””${barra}â”˜${Z}"
    echo ""
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# msg_sucesso()
#   Exibe mensagem de conclusÃ£o com tempo total de execuÃ§Ã£o.
#   Calcula a diferenÃ§a entre o epoch de inÃ­cio e o momento atual.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
msg_sucesso() {
    local fim_epoch
    fim_epoch=$(date +%s)
    local duracao=$(( fim_epoch - INICIO_EPOCH ))

    # Converte segundos em formato legÃ­vel (Xm Ys)
    local minutos=$(( duracao / 60 ))
    local segundos=$(( duracao % 60 ))
    local tempo_fmt

    if [[ $minutos -gt 0 ]]; then
        tempo_fmt="${minutos}m ${segundos}s"
    else
        tempo_fmt="${segundos}s"
    fi

    echo ""
    separador
    echo -e "  ${BG}âœ… TransferÃªncia concluÃ­da com sucesso!${Z}"
    echo -e "  ${DIM}â±  DuraÃ§Ã£o total: ${tempo_fmt}${Z}"
    separador
    echo ""
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# msg_erro(mensagem)
#   Exibe mensagem de erro formatada e encerra o script com cÃ³digo 1.
#
#   ParÃ¢metros:
#     $1 â€” Mensagem de erro a exibir
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
msg_erro() {
    echo ""
    echo -e "  ${BR}â•”â•â• ERRO â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${Z}"
    echo -e "  ${BR}â•‘${Z}  ${R}âŒ $1${Z}"
    echo -e "  ${BR}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${Z}"
    echo ""
    exit 1
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# exibir_ajuda()
#   Mostra a tela de ajuda com todos os comandos, modos e exemplos.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
exibir_ajuda() {
    banner
    echo -e "  ${BW}USO:${Z}"
    echo -e "    ${BC}$CHAMADA${Z}                         ${DIM}# Download: Nuvem â†’ Servidor${Z}"
    echo -e "    ${BC}$CHAMADA up \"arquivo ou pasta\"${Z}   ${DIM}# Upload: Servidor â†’ Nuvem${Z}"
    echo -e "    ${BC}$CHAMADA help${Z}                     ${DIM}# Exibir esta ajuda${Z}"
    echo -e "    ${BC}$CHAMADA status${Z}                   ${DIM}# Exibir configuraÃ§Ã£o ativa${Z}"
    echo ""
    separador
    echo ""
    echo -e "  ${BW}MODOS DISPONÃVEIS:${Z}"
    echo -e "    ${BC}gdrive${Z}        ${DIM}â†’${Z}  Modo ${BC}NORMAL${Z}      ğŸ“€  ${DIM}(dir: padrÃ£o)${Z}"
    echo -e "    ${BC}gdrive-rip${Z}    ${DIM}â†’${Z}  Modo ${BR}RIP${Z}         ğŸ’€  ${DIM}(dir: rip)${Z}"
    echo -e "    ${BC}gdrive-perma${Z}  ${DIM}â†’${Z}  Modo ${BM}PERMANENTE${Z}  ğŸ’  ${DIM}(dir: permanente)${Z}"
    echo ""
    echo -e "  ${DIM}O modo Ã© detectado automaticamente pelo nome do executÃ¡vel.${Z}"
    echo -e "  ${DIM}Use symlinks para os modos alternativos:${Z}"
    echo -e "    ${DIM}ln -s /caminho/gdrive /caminho/gdrive-rip${Z}"
    echo -e "    ${DIM}ln -s /caminho/gdrive /caminho/gdrive-perma${Z}"
    echo ""
    separador
    echo ""
    echo -e "  ${BW}EXEMPLOS:${Z}"
    echo -e "    ${C}# Baixar tudo da nuvem para o servidor (modo normal)${Z}"
    echo -e "    ${BC}\$ gdrive${Z}"
    echo ""
    echo -e "    ${C}# Enviar um arquivo para a nuvem${Z}"
    echo -e "    ${BC}\$ gdrive up \"Filme.2024.1080p.mkv\"${Z}"
    echo ""
    echo -e "    ${C}# Enviar uma pasta inteira para a nuvem${Z}"
    echo -e "    ${BC}\$ gdrive up \"Nome da Pasta\"${Z}"
    echo ""
    echo -e "    ${C}# Upload no modo permanente (via symlink)${Z}"
    echo -e "    ${BC}\$ gdrive-perma up \"Ãlbum Completo\"${Z}"
    echo ""
    exit 0
}

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# exibir_status()
#   Mostra a configuraÃ§Ã£o ativa: modo, diretÃ³rios, remoto e flags.
#   Ãštil para debug e verificaÃ§Ã£o rÃ¡pida de configuraÃ§Ã£o.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
exibir_status() {
    banner
    echo -e "  ${BW}â”Œâ”€ ConfiguraÃ§Ã£o Ativa â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€${Z}"
    echo -e "  ${BW}â”‚${Z}"
    echo -e "  ${BW}â”‚${Z}  ${BW}Modo:${Z}              ${COR_MODO}${MODO_NOME} ${ICONE_MODO}${Z}"
    echo -e "  ${BW}â”‚${Z}  ${BW}Script:${Z}            ${C}$CHAMADA${Z}"
    echo -e "  ${BW}â”‚${Z}  ${BW}UsuÃ¡rio:${Z}           ${C}$(whoami)${Z}"
    echo -e "  ${BW}â”‚${Z}"
    echo -e "  ${BW}â”‚${Z}  ${BW}Dir. Local:${Z}        ${C}$DIRETORIO_LOCAL${Z}"
    echo -e "  ${BW}â”‚${Z}  ${BW}Remoto:${Z}            ${C}$REMOTE_PATH${Z}"
    echo -e "  ${BW}â”‚${Z}"
    echo -e "  ${BW}â”‚${Z}  ${BW}Transfers:${Z}         ${C}16 streams paralelos${Z}"
    echo -e "  ${BW}â”‚${Z}  ${BW}Checkers:${Z}          ${C}32 verificadores${Z}"
    echo -e "  ${BW}â”‚${Z}  ${BW}Buffer:${Z}            ${C}64M${Z}"
    echo -e "  ${BW}â”‚${Z}  ${BW}Chunk Size:${Z}        ${C}128M${Z}"
    echo -e "  ${BW}â”‚${Z}  ${BW}Multi-thread:${Z}      ${C}16 streams por arquivo${Z}"
    echo -e "  ${BW}â”‚${Z}"
    echo -e "  ${BW}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€${Z}"
    echo ""
    exit 0
}

# â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
# â•‘                      EXECUÃ‡ÃƒO PRINCIPAL                              â•‘
# â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Intercepta comandos especiais (help / status) antes de tudo
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
case "$1" in
    help|--help|-h)  exibir_ajuda  ;;   # Exibe ajuda e sai
    status)          exibir_status ;;   # Exibe configuraÃ§Ã£o e sai
esac

# Exibe o banner principal
banner

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# FLAGS DO RCLONE â€” Cada flag estÃ¡ documentada individualmente
#
# ReferÃªncia: https://rclone.org/flags/
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
RCLONE_FLAGS=(
    # -P (--progress): Exibe progresso da transferÃªncia em tempo real
    -P

    # --ignore-checksum: Pula verificaÃ§Ã£o de checksum apÃ³s cÃ³pia.
    #   Acelera a transferÃªncia ao confiar no tamanho do arquivo.
    --ignore-checksum

    # --transfers=16: NÃºmero de transferÃªncias simultÃ¢neas de arquivos.
    #   Valor alto para maximizar uso de banda em conexÃµes rÃ¡pidas.
    --transfers=16

    # --checkers=32: NÃºmero de verificadores paralelos que comparam
    #   arquivos na origem e destino para decidir o que transferir.
    --checkers=32

    # --buffer-size=64M: Tamanho do buffer em memÃ³ria por transferÃªncia.
    #   Valores maiores reduzem operaÃ§Ãµes I/O mas consomem mais RAM.
    --buffer-size=64M

    # --drive-chunk-size=128M: Tamanho de cada chunk enviado ao Google
    #   Drive. Chunks maiores = menos requests HTTP = mais velocidade
    #   em conexÃµes estÃ¡veis. 128M Ã— 16 transfers = ~2GB RAM max.
    --drive-chunk-size=128M

    # --drive-upload-cutoff=64M: Arquivos acima deste tamanho sÃ£o
    #   enviados usando upload em chunks (resumable upload).
    --drive-upload-cutoff=64M

    # --retries=3: NÃºmero de tentativas em caso de falha na transferÃªncia.
    --retries=3

    # --multi-thread-streams=16: NÃºmero de threads para download de
    #   um Ãºnico arquivo grande (split download).
    --multi-thread-streams=16

    # --fast-list: Usa menos requests para listar diretÃ³rios remotos
    #   fazendo um Ãºnico LIST recursivo. Usa mais RAM mas Ã© muito
    #   mais rÃ¡pido em diretÃ³rios com muitos arquivos.
    --fast-list

    # --drive-acknowledge-abuse: Permite baixar arquivos que o Google
    #   Drive marcou como potencialmente perigosos (abuse flag).
    --drive-acknowledge-abuse
)

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# LÃ“GICA PRINCIPAL â€” Decide entre Upload (up) e Download (padrÃ£o)
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

if [[ "$1" == "up" ]]; then
    # â”€â”€ MODO UPLOAD: Servidor â†’ Nuvem â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # Requer um segundo argumento com o nome do arquivo ou diretÃ³rio.

    if [[ -z "$2" ]]; then
        # Sem argumento: exibe aviso de uso correto e sai
        echo -e "  ${BY}âš   AtenÃ§Ã£o:${Z} VocÃª precisa especificar o arquivo ou pasta para upload."
        echo ""
        echo -e "  ${BW}Exemplo:${Z}"
        echo -e "    ${BC}$CHAMADA up \"Nome do Arquivo.mkv\"${Z}"
        echo -e "    ${BC}$CHAMADA up \"Nome da Pasta\"${Z}"
        echo ""
        exit 1
    fi

    # ConstrÃ³i o caminho completo do item local
    LOCAL_ITEM="$DIRETORIO_LOCAL/$2"

    # Verifica se o item existe no sistema de arquivos
    if [[ ! -e "$LOCAL_ITEM" ]]; then
        msg_erro "Arquivo ou diretÃ³rio nÃ£o encontrado: $LOCAL_ITEM"
    fi

    if [[ -d "$LOCAL_ITEM" ]]; then
        # â”€â”€ Upload de DiretÃ³rio â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        # Usa "rclone copy" para copiar todo o conteÃºdo do diretÃ³rio
        # para um subdiretÃ³rio com o mesmo nome no remoto.
        info_operacao "UPLOAD â¬†  (DiretÃ³rio)" \
                      "ğŸ“‚ $LABEL_SERVIDOR  â†’  ${BY}$2${Z}" \
                      "â˜ï¸  $LABEL_REMOTO" \
                      "Enviando diretÃ³rio para a nuvem..."

        rclone copy "$LOCAL_ITEM" "$REMOTE_PATH/$2" "${RCLONE_FLAGS[@]}"
    else
        # â”€â”€ Upload de Arquivo Ãšnico â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        # Usa "rclone copy" com o diretÃ³rio que contÃ©m o arquivo como
        # origem e --include para filtrar apenas o arquivo desejado.
        info_operacao "UPLOAD â¬†  (Arquivo)" \
                      "ğŸ“„ $LABEL_SERVIDOR  â†’  ${BY}$2${Z}" \
                      "â˜ï¸  $LABEL_REMOTO" \
                      "Enviando arquivo para a nuvem..."

        rclone copy "$LOCAL_ITEM" "$REMOTE_PATH/" --include "$2" "${RCLONE_FLAGS[@]}"
    fi

    # Exibe mensagem de sucesso com tempo total
    msg_sucesso

else
    # â”€â”€ MODO DOWNLOAD (padrÃ£o): Nuvem â†’ Servidor â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # Sem argumentos (ou argumento diferente de "up"/"help"/"status"),
    # baixa todo o conteÃºdo do remoto para o diretÃ³rio local.
    info_operacao "DOWNLOAD â¬‡  (SincronizaÃ§Ã£o)" \
                  "â˜ï¸  $LABEL_REMOTO" \
                  "ğŸ“‚ $LABEL_SERVIDOR  â†’  ${BY}$DIRETORIO_LOCAL${Z}" \
                  "Baixando arquivos da nuvem para o servidor..."

    rclone copy "$REMOTE_PATH/" "$DIRETORIO_LOCAL/" "${RCLONE_FLAGS[@]}"

    # Exibe mensagem de sucesso com tempo total
    msg_sucesso
fi
